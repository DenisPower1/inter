/**
 * Inter.
 * Version: 1.2.1
 * 2021 -  by Denis Power.
 * https://github.com/DenisPower1/inter
 * A Javascript framework to build interactive frontend applications.
 * 
 * 
 */

!function(){function e(e){return"[object Object]"==Object.prototype.toString.call(e)}function t(e){return Array.isArray(e)}function n(e){return"function"==r(e)}function r(e){return typeof e}function o(e){return e in this}function s(e){return!(null==e)}function a(e){return 1==e||0==e}function l(e){const t=e.tagName;return"input"==k.call(t)||"textarea"==k.call(t)}const i={get status(){return w.app.status}};function c(e){if("production"==i.status)return!1;throw new SyntaxError(e)}function u(e){if("production"!=i.status&&"development"==i.status)throw new TypeError(e)}function h(e){if(document instanceof Document){const t=document.getElementById(e);if(null!=t)return t;c(`\n    There is not an element by id "${e}" on the document.\n    `)}}function d(e){"production"!=i.status&&console.warn(e)}function f(e){return document instanceof Document?document.createTextNode(e):void 0}function p(e,t){return null!=e&&(Se(e)?e.hasAttribute(t):void 0)}function g(e){return document instanceof Document?document.createElement(e):void 0}function m(e,t,n){return null==e?void 0:e.setAttribute(t,n)}function y(e,t){return null==e?void 0:e.getAttribute(t)}function b(e){return 1==e}Object.destroyAll=(e=>{const t=Object.keys(e);for(let n of t)delete e[n]});const w=globalThis,x=/^\/(:?[\s\S]+)|\/$/;function O(e){return"a"==k.call(e.nodeName)||"button"==k.call(e.nodeName)}function j(e,t){return!Object.is(e,t)}const E=Symbol("StrictRed"),C={[E]:Object.create(null),create(e){return this[E][e]=N.create(null)},set(e,t){this[E][e].push(t)},get(e){return this[E][e]},has(e){return e in this[E]},reConstroy(e,t,n){let r=this.get(e);for(let e of r){const{text:r,target:s,refs:a}=e;o.call(a,t)&&(a[t]=n);let l=r,i=Object.getOwnPropertyNames(a);for(let e of i){const t=new RegExp(`{(:?\\s+)*(:?${e})(:?\\s+)*}`,"g");l=l.replace(t,a[e])}s.textContent=l}}};function T(){}T.prototype.create=(e=>null==e?[]:[...e]),T.prototype.shareItens=((e,t)=>{for(let n of e)t.push(n)}),T.prototype.destroy=(e=>{let t=e.length;for(;t--;)e.pop()});var N=new T;const R={handleMemory:N.create(null),refContainer(e){this.handleMemory.push(e)},hasRefContainer(e){let t;return this.handleMemory.some(n=>t=e==n),t}};let A="development";const S={get version(){return"1.2.1"},set status(e){if("production"!=A&&"development"!=e){if("production"!=e)throw new Error(`\n        "${e}" is an invalid value for the app.status property.\n     `);console.log("The app is now in production, every error will be\n        hidden.\n        "),A=e}},get status(){return A}};function $(){null!=new.target&&c('\n        \n        Do not call the "supportInter()" function with the "new" keyword,\n        just invoke it like that: supportInter()\n        \n        ');try{let e=new Map;return e.set("framework","Inter"),e.set("Creator","Denis"),e.clear(),!0}catch(e){return!1}}Object.preventExtensions(S),Object.defineProperty(window,"onload",{set(e){"inputHandler"!=e?window.addEventListener("load",t=>{"development"==S.status&&console.log("You're using Inter in development mode, when you deploy your app turn on production mode."),q(),n(e)&&e(t)}):window.addEventListener("load",q())},get(){}}),window.onload=(()=>{q()});var I=new Proxy({url:function(e){return s(e)||c("The argument in validate.url() method must not be null or undefined."),/^(?:http:\/\/|https:\/\/)+(:?[A-Z]{2,8}\.)*(:?[a-z]+)+\.+(:?[a-z]{2,8})+(:?[\s\S])*$/i.test(e)},email:function(e){return s(e)||c("The argument in validate.email() method must not be null or undefined."),/^(?:[A-Z]+)+(:?[0-9]+)*@+(:?[A-Z]+)\.[A-Z]+$/i.test(e)}},{set:(e,t,n,r)=>"url"==t||"email"==t?(u("\n        You must not overwrite built-in methods\n        "),!1):Reflect.set(e,t,n,r),deleteProperty:(e,t)=>"url"==t||"email"==t?(u("\n                You must not delete built-in methods\n                "),!1):Reflect.deleteProperty(e,t)});const P=new class{constructor(){}addHTML(t){if(e(t)){const{in:e,elements:r}=t,o=h(e);r.forEach(e=>{const{tag:t,text:r,children:s=[],attrs:a={},events:l={}}=e;if(null==t)return!1;let i=g(t);Object.entries(a).forEach(e=>{const[t,n]=e;m(i,t,n)}),Object.entries(l).forEach(e=>{const[t,n]=e;i[t]=n,o.appendChild(i)}),null!=r&&0==s.length&&(n(r)?null!=r()&&i.appendChild(f(r())):i.appendChild(f(r))),s.length>0&&Me(i,s),o.appendChild(i)})}else c("\n         The argument passed in the method AddHTML must be a plain object.\n         ")}},L=new Proxy(P,{set:(...e)=>(c("You can not set any property in Inter object,\n        this is a fatal action.\n        "),!1),deleteProperty:(...e)=>(c("Fatal error: do not try to delete any property of Inter object"),!1),getPrototypeOf:e=>null,setPrototypeOf:(...e)=>!1}),k=String.prototype.toLowerCase;const H=new function(){this.query=function(n){if(e(n)){const{in:r,setting:s}=n,{applyTo:a,value:l,query:i}=s;e(s)||c("\n       Setting must be an object.\n       "),t(r)&&t(a)||c("\n        The in=>target and the applyTo=>reciever properties must be array.\n        ");let u=r.filter(e=>{o.call(e,i)||console.log(`It's was not found a property called "${i}" in target object, in data.query()`);const t=e[i];if(k.call(t).includes(k.call(l)))return e});if(N.destroy(a),""===l)return!1;N.shareItens(u,a)}else c("\nThe argument in data.query() must be an object.\n")}};function B(t){if(void 0!==new.target&&c("\n       You must not create an instance for whileLoading() function, call it\n       whileLoading(argument(object)). \n       "),e(t)){const{elements:e}=t;let r=[...e],o=null;r.forEach(e=>{const{tag:t,text:r,attrs:a={},events:l={},children:i=[],styles:c={}}=e,u=g(t);Object.entries(a).forEach(e=>{const[t,n]=e;m(u,t,n)}),Object.entries(l).forEach(e=>{const[t,n]=e;u[t]=n}),Object.entries(c).forEach(e=>{const[t,r]=e;n(r)?u.style[t]=r():u.style[t]=r}),s(r)&&0==i.length&&(n(r)?u.appendChild(f(r)):u.appendChild(TExt(r))),i.length>0&&Me(u,i),o=u,document.body.appendChild(u)}),document.onreadystatechange=function(){"complete"==this.readyState&&this.body.removeChild(o)}}else c("\n         The value passed as argument in the method \n         whileLoading() must be any object.\n       \n       ")}Object.defineProperty(H,"query",{enumerable:!0,value:H.query}),Object.freeze(H),Object.defineProperty(P,Symbol.hasInstance,{value:function(){return!1},enumerable:!1,configurable:!1,writable:!1});const Y={refHandler:Object.create(null),has:function(e){return e in this.refHandler},get:function(e){return this.refHandler[e]},addRef:function(e,t){return this.refHandler[e]=t},freeAll(){return Object.destroyAll(this.refHandler)}};K(L,"renderIf",n=>{const a=N.create(null);new Set;if(e(n)){const{in:i,watch:u,conditions:d}=n;function l(){const e=h(i);a.length>0&&(a.forEach((t,n)=>{const{el:r,index:o}=t;e.removeChild(r)}),N.destroy(a)),t(d)||c("\n        conditions must be an array.\n        "),[...d].forEach((t,n)=>{const{render:l}=t;if(!s(l.call(t))&&o.call(a,String(t.index))){const n=e.children[t.index];e.removeChild(n),delete a[String(t.index)]}if(function(e){return/^\[object HTML+(:?[A-Z]+)+Element\]$/i.test(e)}(l.call(t))){const n=t.index,o=e.children[n];if(function(e){return"number"==r(Number(e))}(n)){let r=e.children[n];if(function(e){return 1==e.children.length}(e)&&!s(t.replace)&&0==n){const t=e.children[0];return e.insertBefore(l()[0],t),a.push({el:e.children[n],index:n}),!1}if(s(o)&&b(t.replace))return e.replaceChild(l()[0],o),a.push({el:e.children[n],index:n}),!1;if(s(r))e.insertBefore(l()[0],r),a.push({el:e.children[n],index:n});else{e.children.length-1+1==n?(e.appendChild(l()[0]),a.push({el:e.children[n],index:n})):c(`Invalid index, it's impossible to render the element at index "${n}"!\n                         `)}}else c("\n                 The index in Inter.renderIf() must be a number.\n                 ")}})}e(u)||c("You must define the watch proprety and it's value must be an object."),pe(u,l)}else c("\n        \n        The argument of Inter.renderIf() method must be a function must be\n        an object.\n\n        ");l()});const _=new class{constructor(){}typing(t){if(e(t)){const{in:e,setting:o,done:s}=t;var r=h(e);Array.from(o).forEach(e=>{const{text:t,speed:o}=e;let a=[...t][Symbol.iterator](),l=setInterval(()=>{let e=a.next().value;if(void 0!==e)Y.has(r)?(r.textContent=`${Y.get(r)}${e}`,Y.addRef(r,`${Y.get(r)}${e}`)):(r.textContent=e,Y.addRef(r,e));else if(clearInterval(l),n(s))return s()},Number(o))})}}cleaning(t){if(e(t)){const{in:e,speed:r,done:o}=t,a=h(e),l=[...a.textContent];let i=setInterval(()=>{l.pop(),a.textContent=function(e){let t=[...e];return t.pop(),t.reduce((e,t)=>e.concat(t),"")}(a.textContent),s(l[0])||(clearInterval(i),Y.has(a)&&delete Y.refHandler[a],n(o)&&o())},Number(r))}else c("\n       The value passed as argument in the method cleaning must be an object.\n       ")}};var D=new Proxy(_,{deleteProperty:(...e)=>(c("\n        You can not delety any property in\n        simulate object\n        \n        "),!1),defineProperty:(...e)=>!1,set:(...e)=>!0,getPrototypeOf:e=>null,setPrototypeOf:(e,t)=>!1});function M(){}M.prototype.useHash=(e=>{x.test(e)||c("\n        pathName must starts with /.\n        ");const t=window.location.pathname;return s(e)||c("You must define the path of the url."),"/"==e?(window.history.pushState(null,null,`/#${e}`),J.fire("URLCHANGED"),!1):"/"!=e&&"/"==t?(window.history.pushState(null,null,`/#${e}`),J.fire("URLCHANGED"),!1):(window.history.replaceState(null,null,`/#${e}`),void J.fire("URLCHANGED"))}),M.prototype.setPath=(e=>{const t=window.location.pathname;return x.test(e)||c("\n     Pathname must starts with /.\n     "),s(e)||c("\n    setPath's parameter must not be a null or undefined value.\n    "),"/"==e?(window.history.pushState(null,null,e),J.fire("URLCHANGED"),!1):"/"!=e&&"/"==t?(window.history.pushState(null,null,e),J.fire("ULRCHANGED"),!1):(window.history.replaceState(null,null,e),void J.fire("URLCHANGED"))});const V=Object.freeze(new M),U={handler:Object.create(null),justRegistered(e){return e in this.handler}};function q(){let e=null;var t=document.getElementsByTagName("*");for(let n=0;n<t.length;n++)if(p(t[n],"handleValue"))if(l(t[n])){p(t[n],"in")||c("\n                in attribute required.\n                ");const r=t[n].getAttribute("handleValue"),o=N.create(null),s=h(y(t[n],"in")).getElementsByTagName("*");for(let e=0;e<s.length;e++){const a=new RegExp(`{(:?\\s+)*(:?${r})(:?\\s+)*}`,"g");if(a.test(s[e].textContent)){let l=s[e];if(ne(l)){let e=l.childNodes;for(let s of e){const e=new RegExp(`{(:?\\s+)*(:?${r})(:?\\s+)*}`,"g");if(e.test(s.textContent)){const r=s.textContent.replace(e,"");o.push({target:s,text:s.textContent,input:t[n]}),s.textContent=r}}}else{const e=l.textContent.replace(a,"");o.push({target:l,text:l.textContent,input:t[n]}),l.textContent=e}}}const a=y(t[n],"in");e=a,U.justRegistered(a)?N.shareItens(o,U.handler[a]):(U.handler[a]=N.create(null),N.shareItens(o,U.handler[a]),N.destroy(o)),t[n].oninput=(e=>{let t=U.handler[a];for(let n of t){const{target:t,text:o}=n,s=new RegExp(`{(:?\\s+)*(:?${r})(:?\\s+)*}`,"g");if(s.test(o)){let n=o.replace(s,e.target.value);t.textContent=n}}})}else c("\n            Really? handleValue must be only setted in value that recieve value.\n            ");J.fire(`handler${e}`)}function F(){}const G=String.prototype.toUpperCase;F.prototype.request=function(t){"file:"==window.location.protocol&&c('\n    \n    You can not use the backend.request() method\n    in an "file:" protocol, use a http: or https: protocol instead.\n\n    ');const r={_set(e,t){this[e]=t},okay:null,error:null};e(t)||c(`\n       \n       The argument of backend.request()\n       must be an object and not: ${Array.isArray(t)?"Array":typeof t}\n\n       \n       `);const{type:o,path:a,events:l={},headers:i={},body:h,security:d={},withCridentials:f}=t,p={get status(){return m.status},set status(e){return!1},get statusText(){return m.statusText},set statusText(e){return!1},isObj(){try{return JSON.parse(m.responseText),!0}catch(e){return!1}},get headers(){return m.getAllResponseHeaders()},set headers(e){return!1}},g={ontimeout:!0,onabort:!0,onprogress:!0};let m=new XMLHttpRequest;function y(){b(f)&&(m.withCredentials=!0);const t=G.call(o);ee(d)||!s(d)?m.open(t,a,!0):e(d)&&m.open(t,a,!0,d.username,d.password),Object.entries(i).forEach(e=>{const[t,n]=e;m.setRequestHeader(t,n)}),Object.entries(l).forEach(e=>{const[t,r]=e;k.call(t)in g||u(`\n            \n            "${t}" is an unrecognised backend.request() event.\n            `),n(r)&&k.call(t)in g&&("onprogress"==t?m.onprogress=function(e){const t=Math.round(100*e.loaded/e.total);r(t)}:m[t]=r)}),m.onload=function(){let e=null;try{if(e=JSON.parse(this.responseText),200!==this.status)return n(r.error)&&r.error.call(p,e),!1;n(r.okay)&&r.okay.call(p,e)}catch(t){if(e=this.responseText,200!==this.status)return n(r.error)&&r.error.call(p,e),!1;n(r.okay)&&r.okay.call(p,e)}},m.onerror=function(){n(r.error)&&r.error.call(p)},"GET"==t?m.send(null):s(h)&&m.send(h)}return{okay(e){n(e)?(r._set("okay",e),y()):c("\n         The argument in okay respons method must be a function.\n         ")},error(e){n(e)?(r._set("error",e),y()):c("\n         The argument in error response method must be a function.\n         ")},response(e,t){arguments.length<2&&c("\n           backend.request().response() must have two arguments.\n           "),n(e)&&n(t)?(r._set("okay",e),r._set("error",t),y()):c("\n         The arguments in backend.request().response() must be functions.\n         ")}}};const W=Object.freeze(new F),z={protectedListener:Object.create(null),ref:Object.create(null),add:function(e,t){return this.ref[e]=t}},Z=new Proxy({},{set(e,t,n,r){t in z.ref&&z.ref[t](n)}});const J=Object.freeze(new function(){this.fire=((e,t)=>{s(e)||c("\n             You must define the event name.\n             "),s(t)?Z[e]=t:Z[e]=void 0}),this.listen=((e,t)=>{null==e&&c("The first argument of event.listen() must be defined(the event name)."),n(t)||c("\n             The second argument of event.listen() must be a function.\n             "),o.call(z.ref,e)||z.add(e,t)}),this.removeListener=(e=>{if(s(e)||c("\n    You must define the event's name you want to remove the listener\n    "),o.call(z.ref,e)||d("\n    Ops, you are trying to delete a listener that  does not exist\n    "),!o.call(z.protectedListener,e))return delete z.ref[e];c(`\n    The listener of "${e}" is protected, you can not remove it.\n    `)}),this.protectListener=(e=>{o.call(z.protectedListener,e)?d(`The listener of "${e}" is already protected. `):z.protectedListener[e]=!0}),this.hasListener=(e=>!!o.call(z.ref,e))}),X=new Proxy(Object.create(null),{set:(e,t,n,r)=>t in X?"Inter here":Reflect.set(e,t,n,r)});function K(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0})}const Q={handler:{},add(e,t){return this.handler[e].push(t)},create(e){return!(e in this.handler)&&(this.handler[e]=N.create(null))}};function ee(e){return 0==Object.keys(e).length}function te(){}function ne(e){return e.getElementsByTagName("*").length>0}te.prototype.each=((e,t,n,r)=>{if(ne(e)){const r=e.childNodes;for(let e=0;e<r.length;e++)if("[object Text]"==r[e]){new RegExp(`{(:?\\s+)*(:?${t})(:?\\s+)*}`,"g").test(r[e].textContent)&&re.push({text:r[e].textContent,target:r[e],parent:n})}}else{new RegExp(`{(:?\\s+)*(:?${t})(:?\\s+)*}`,"g").test(e.textContent)&&re.push({target:e,text:e.textContent,parent:n})}r&&ce.set(n,re)});const re=N.create(null);let oe=new te;const se={handle:Object.create(null),set(e,t){return this.handle[e]=t},get(e){return this.handle[e]},has(e){return e in this.handle}};function ae(t){let r;if(e(t)){let{in:a,data:l,handleValue:i,private:c,react:u}=t;const d=Object.assign(Object.create(null),l);Object.getOwnPropertyNames(l).forEach(e=>{Object.defineProperty(l,e,{get:()=>d[e]}),n(l[e])&&(d[e]=l[e].call(l))}),R.hasRefContainer(a)?(Object.destroyAll(Q.handler),Object.destroyAll(se.handle),Object.destroyAll(ie.storage),Object.destroyAll(ce.storage),Object.destroyAll(C[c])):R.refContainer(a);const f=h(a).getElementsByTagName("*"),p=0!=f.length;J.listen(`handler${a}`,()=>{const t=Object.create(null);e(i)&&(Object.entries(i).forEach(e=>{const[n,r]=e;t[n]=r}),Object.entries(i).forEach((e,n)=>{const[r,o]=e;let s=U.handler[a];for(let e of s){const{target:n,text:s,input:a}=e,l=new RegExp(`{(:?\\s+)*(:?${r})(:?\\s+)*}`,"g");if(l.test(s)){const e=s.replace(l,o);n.textContent=e}let i=new Proxy(t,{get:()=>a.value,set(e,t,o,a){const l=new RegExp(`{(:?\\s+)*(:?${r})(:?\\s+)*}`,"g"),i=s.replace(l,o);n.textContent=i}});window[r]=i}}))});const g=h(a).getElementsByTagName("*");var o=Object.keys(l);0==g.length&&(Q.create(a),Q.add(a,{target:h(a),text:h(a).textContent}));for(let e=0;e<g.length;e++){Q.create(a);for(let t of o){const n=g[e];if(ne(n)){const e=n.childNodes;for(let n of e){new RegExp(`{(:?\\s+)*(:?${t})(:?\\s+)*}`,"g").test(n.textContent)&&Q.add(a,{target:n,text:n.textContent})}}else{new RegExp(`{(:?\\s+)*(:?${t})(:?\\s+)*}`,"g").test(g[e].textContent)&&Q.add(a,{target:g[e],text:g[e].textContent,attrName:null})}const r=g[e].getAttributeNames();for(let n=0;n<r.length;n++)if(p){const o=new RegExp(`{(:?\\s+)*(:?${t})(:?\\s+)*}`,"g"),s=y(g[e],r[n]);o.test(s)&&Q.add(a,{target:g[e],attrName:r[n],attrValue:g[e].getAttribute(r[n])})}}}if(!ee(l)){const e=Object.create(null);Object.defineProperty(e,"reactor",{value:new Proxy(l,{set(e,t,n,r){if(t in e)Reflect.set(e,t,n,r),d[t]=n,Q.handler[a].forEach((e,r)=>{const{text:o,target:l,attrName:i,attrValue:c}=e,u=new RegExp(`{(:?\\s+)*(:?${t})(:?\\s+)*}`,"g");if(s(o)){if(u.test(o)){C.has(a)&&C.reConstroy(a,t,n)}}else if(u.test(c)){const e=c.replace(u,n);e==c||("value"!=i?m(l,i,e):l.value=e)}});else{const o={refName:t,refValue:n,refContainer:a};Reflect.set(e,t,n,r),function(e){const{refName:t,refValue:n,refContainer:r}=e,o=h(r).getElementsByTagName("*"),s=new RegExp(`{(:?\\s+)*(:?${t})(:?\\s+)*}`,"g");for(let e of o)if(Ne(e)){const o=e.childNodes;for(let e of o)if(s.test(e.textContent)){Q.add(r,{target:e,text:e.textContent});const o=e.textContent.replace(s,n);C.set(r,{target:e,text:e.textContent,refs:{[t]:n}}),e.textContent=o}}else if(s.test(e.textContent)){Q.add(r,{target:e,text:e.textContent});const o=e.textContent.replace(s,n);C.set(r,{target:e,text:e.textContent,refs:{[t]:n}}),e.textContent=o}for(let e of o){const t=e.attributes;for(let o=0;o<t.length;o++)if(s.test(t[o].value)){Q.add(r,{target:e,attrName:t[o].name,attrValue:t[o].value});const a=t[o].value.replace(s,n);"value"!=t[o].name?m(e,t[o].name,a):e.value=a}}}(o),le.set(t)}},get(e,t,n){if(se.has(t)){return se.get(t).value}return Reflect.get(e,t,n)},deleteProperty(e,t,n){le.has(t)&&(Reflect.deleteProperty(e,t,n),le.delete(t),Q.handler[a].forEach((e,n)=>{const{target:r,text:o,attrName:l,attrValue:i}=e,c=new RegExp(`{(:?\\s+)*(:?${t})(:?\\s+)*}`,"g");s(l)&&c.test(i)&&Q.handler[a].splice(n,1),s(o)&&c.test(o)&&Q.handler[a].splice(n,1)}))}}),enumerable:!0,configurable:!0,writable:!0}),0!=c&&s(c)?r=e.reactor:s(u)&&(w[u]=e.reactor)}if(!ee(l)&&s(l)){if(!ce.has(a)){const e=h(a).getElementsByTagName("*"),t=0==f.length;let n=N.create(null),r=N.create(null);if(t){const e=h(a).textContent;Object.getOwnPropertyNames(l).forEach(t=>{new RegExp(`{(:?\\s+)*(:?${t})(:?\\s+)*}`,"g").test(e)&&(n.push({target:h(a),text:e,position:null}),ce.set(a,n))})}else for(let t=0;t<e.length;t++){const n=Object.getOwnPropertyNames(l);for(let o=0;o<n.length;o++){const s=t==e.length-1;oe.each(e[t],n[o],a,s);const l=e[t].getAttributeNames();for(let s=0;s<l.length;s++){const a=y(e[t],l[s]);if(new RegExp(`{(:?\\s+)*(:?${n[o]})(:?\\s+)*}`,"g").test(a)){const n=y(e[t],l[s]),o=l[s];r.push({target:e[t],attrName:o,attrText:n})}}}}ie.set(a,r)}Object.entries(l).forEach(e=>{let[t,n]=e;const r=ce.get(a),o=ie.get(a);C.create(a);let l=C.get(a);N.shareItens(r,l);for(let e=0;e<r.length;e++){const{target:o,text:a}=r[e],{computed:i}=l[e];if(s(i)){const r=new RegExp(`{(:?\\s+)*(:?${t})(:?\\s+)*}`,"g"),s=i.replace(r,n);l[e].computed=s,l[e].refs[t]=n,o.textContent=s}else{const r=new RegExp(`{(:?\\s+)*(:?${t})(:?\\s+)*}`,"g");let s=a.replace(r,n);l[e].computed=s,l[e].refs=Object.create(null),l[e].refs[t]=n,o.textContent=s}}for(let e=0;e<o.length;e++){const{target:r,attrName:s,attrText:a}=o[e],l=new RegExp(`{(:?\\s+)*(:?${t})(:?\\s+)*}`,"g");if(l.test(a)){m(r,s,a.replace(l,n)),"value"==s&&se.set(t,r)}}})}}else c("The argument in toHTML() function must be an object.");return r}const le={handler:Object.create(null),set(e){this.handler[e]=!0},has(e){return e in this.handler},delete(e){delete this.handler[e]}};let ie={storage:Object.create(null),set(e,t){return this.storage[e]=t},get(e){return this.storage[e]}},ce={storage:Object.create(null),set(e,t){this.storage[e]=t},get(e){return this.storage[e]},has(e){return e in this.storage}};const ue={copy:Object.create(null),set(e,t){this.copy[e]=t},has(e){return e in this.copy}};function he(e,t,n){let r=t.children[n];if(de(r,e))return t.replaceChild(e,r),!1;if(r.getElementsByTagName("*").length!=e.getElementsByTagName("*").length)return void t.replaceChild(e,r);let o=t.children[n].getElementsByTagName("*");const a=e.getElementsByTagName("*");if(o.length>0&&a.length>0)for(let e=a.length-1;e>-1;e--)de(a[e],o[e])?o[e].parentNode.replaceChild(a[e],o[e]):s(o[e])&&s(a[e])&&fe(o[e],a[e])&&o[e].parentNode.replaceChild(a[e],o[e]);else{if(function(e,t){const n=e.getElementsByTagName("*").length,r=t.getElementsByTagName("*").length;return 0==n&&r>0||n>0&&0==r}(e,r))return t.replaceChild(e,r),!1;fe(e,r)&&t.replaceChild(e,r)}}function de(e,t){return!(e.nodeName==t.nodeName)}function fe(e,t){let n=!1;const r=e.attributes,o=t.attributes;if(j(t.render,!0)||(n=!0),!n)if(r.length!==o.length)n=!0;else for(let t of o){const r=t.name,o=t.value;if(!p(e,r)){n=!0;break}if(p(e,r)){if(y(e,r)!==o){n=!0;break}}}if(!n&&e.textContent&&t.textContent){if(Ne(e)&&Ne(t))return!1;n=e.textContent!==t.textContent}return n}function pe(t,n){const r=Object.assign({},t),o=Object.keys(t);for(let s of o)Object.defineProperty(t,[s],{set(e){r[s]=e,n()},get:()=>r[s]}),e(t[s])&&pe(t[s],n)}K(L,"for",r=>{let{in:o,do:a,data:l,react:i}=r,d=null;if(t(l)){!function n(){d=new Proxy(l,{set:(t,n,r,o)=>(t[n]=r,e(r)&&pe(r,f),f(),!0)}),Object.defineProperty(d,"otherArray",{set(r){if(t(r)){l=r,f();for(let t of r)e(t)&&pe(t,f);n()}else c(`\n         "${r}" is not an array.\n         `)},get:()=>null,configurable:!0}),Object.defineProperty(d,"concat",{value:n=>{if(t(n)){for(let e of n)d.push(e);return f(),[...l]}return d.push(n),e(n)&&pe(n,f),[...l]},configurable:!0}),s(i)&&(window[i]=d)}()}if(t(l)||u("data in Inter.for() must be an array."),n(a)){const t=h(o);for(let t of l)e(t)&&pe(t,f);function f(){if(l.length<t.children.length){let e=t.children;for(let n=e.length;n>l.length;--n)t.removeChild(e[e.length-1])}if(!ue.has(o))return l.forEach((e,n)=>{var r=a.call(d,e,n);for(let e of r)t.appendChild(e)}),ue.set(o),!1;ue.has(o)&&l.forEach((e,n)=>{let r=a.call(d,e,n);if(s(t.children[n]))for(let e of r)he(e,t,n);if(!s(t.children[n])&&l.length>t.children.length)for(v of r)t.appendChild(v)})}}else u("do in Inter.for() must be a function");f()});const ge={store:Object.create(null),set(e,t){this.store[e]=t},hasNotFound(){return"*"in this.store},get(){return this.store["*"]()}};function me(){return!!window.location.hash}function ye(t){if(e(t)){const{routes:e}=t,r=Object.create(null);if(Object.entries(e).forEach(e=>{const[t,o]=e;if(x.test(t)||"*"==t||c("\n        Route name must start with /.\n        "),n(o)||c("\n        Route action must be a function.\n        "),"*"!=t&&t.includes("*")){const e=t.replaceAll("*","(:?[\\s\\S]+)");r[e]=o}else"*"!==t&&(r[t]=o)}),n(e["*"])&&ge.set("*",e["*"]),me()){const e=window.decodeURI(window.location.hash.replace("#",""));let t=!1;Object.keys(r).some(n=>{(new RegExp).compile(n).test(e)&&(r[n](),t=!0)}),t||(ge.hasNotFound()?ge.get():d('\n                    You should always create a notfound route with "*" property.\n                    '))}else{let e=!1;const t=window.location.pathname;Object.keys(r).some(n=>{(new RegExp).compile(n).test(t)&&(e=!0,r[n]())}),e||(ge.hasNotFound()?ge.get():d('\n            You should always create a notfound route with "*" property.\n            '))}J.listen("URLCHANGED",()=>{if(me()){const e=window.decodeURI(window.location.hash.replace("#",""));let t=!1;Object.keys(r).some(n=>{(new RegExp).compile(n).test(e)&&(r[n](),t=!0)}),t||(ge.hasNotFound()?ge.get():d('\n             You should always create a notfound route with "*" property.\n             '))}else{const e=window.location.pathname;let t=!1;if(Object.keys(r).some(n=>{(new RegExp).compile(n).test(e)&&(r[n](),t=!0)}),!t){if(ge.hasNotFound())return ge.get();d('\n                You should always create a notfound route with "*" property.\n                ')}}}),window.onpopstate=(()=>{if(me()){const e=window.decodeURI(window.location.hash.replace("#",""));let t=!1;if(Object.keys(r).some(n=>{(new RegExp).compile(n).test(e)&&(r[n](),t=!0)}),!t){if(ge.hasNotFound())return ge.get();d('\n             You should always create a notfound route with "*" property.\n             ')}}else{const e=window.location.pathname;let t=!1;Object.keys(r).some(n=>{(new RegExp).compile(n).test(e)&&(r[n](),t=!0)}),t||(ge.hasNotFound()?ge.get():d('\n                You should always create a notfound route with "*" property.\n                '))}})}else c("\nThe argument of ROUTER() must be an object.\n");(function(){const e=this.getElementsByTagName("*");for(let t of e)O(t)&&p(t,"setPath")&&(t.onclick=(e=>{e.preventDefault();const n=y(t,"setPath");x.test(n)?V.setPath(n):c("\n                A valid pathName must start with /.\n                ")})),O(t)&&p(t,"useHash")&&(t.onclick=(e=>{e.preventDefault();const n=y(t,"useHash");x.test(n)?V.useHash(n):c("\n                A valid pathName must start with /.\n                ")}))}).call(document.body)}let be=new class{constructor(){}each(e){const{in:t,do:n}=e;let r=N.create(null),o=h(t).getElementsByTagName("*");for(let e of o)l(e)&&r.push(e);for(let e=0;e<r.length;e++)n(r[e],e)}};function we(e){const t=N.create(null),n=h(e).getElementsByTagName("*");for(let r=0;r<n.length;r++){const o=n[r].tagName,s=n[r];"input"!=k.call(o)&&"textarea"!=k.call(o)||t.push({input:s,index:r,parent:h(e)})}return t}const xe=Symbol.for("privateMethod"),ve=N.create(null),Oe=Symbol("handler"),je=Symbol("firstTime"),Ee=Symbol("storage"),Ce=N.create(null),Te={[Oe]:void 0,[xe]:Object.create(null),[je]:!0,[Ee]:N.create(null),setState(e,t){if(e in this[xe]&&d(`\n      Oh no man, the state that you're register already exist "${e}".\n      \n      `),arguments.length<2)d("\n        input.sateSate() must have two arguments, first is the name of the state \n        and second the input state container.\n        ");else{const n=we(t);for(let e=0;e<n.length;e++){const{input:t,index:r,parent:o}=n[e],s=t.cloneNode(!0);ve.push({clonedInput:s,index:r,parent:o}),this[je]&&Ce.push({realInput:t,index:r,parent:o})}this[xe][e]=N.create(null),N.shareItens(ve,this[xe][e]),N.destroy(ve),this[je]&&(N.shareItens(Ce,this[Ee]),N.destroy(Ce),this[je]=!1)}},original(){const e=this[Ee];for(let t of e){const{realInput:e,index:n,parent:r}=t,o=r.getElementsByTagName("*");r.replaceChild(e,o[n])}},resetState(e,t){if(!e in this[xe]&&d("The state you'e trying to reset does not exist."),arguments.length<2)c("resetState must have two arguments.");else{const n=we(t);for(let e=0;e<n.length;e++){const{input:t,index:r,parent:o}=n[e],s=t.cloneNode(!0);ve.push({clonedInput:s,index:r,parent:o})}this[xe][e]=N.create(null),N.shareItens(ve,this[xe][e]),N.destroy(ve)}},deleteState(e){if(!(!e in this[xe]))return delete this[xe][e];d("\n        You're trying to delete a state that does not exist.\n        ")},constroyState(e){if(!e in this[xe])d("\n        You're trying to constroy a state that does not exist.\n        ");else{const t=this[xe][e];for(let e of t){const{clonedInput:t,index:n,parent:r}=e,o=r.getElementsByTagName("*");r.replaceChild(t,o[n])}}},destroyAll(){for(let e in this[xe])return delete this[xe][e]},send(e){if(n(e)){Object.getOwnPropertyNames(this[xe]).forEach(t=>{const n=this[xe][t];for(let t of n)e(t.clonedInput)})}else c("\n    send's argument must be a function.\n    ")}};function Ne(e){return e.children.length>0}function Re(){this[Symbol("store_Symbol")]=Object.create(null),this[Symbol("protect")]=new Set}Object.freeze(Te),Re.prototype.set=function(e,t){const n=Object.getOwnPropertySymbols(this)[0];if(arguments.length<2&&c("\n        storage.set() must have two arguments!\n        "),this[Object.getOwnPropertySymbols(this)[1]].has(e)&&c(`\n       \n       The info named "${e}" is protect\n       and you can not overwritten it.\n\n       `),!(e in this[n]))return this[n][e]=t;this[n][e]=t,d(`\n        there's already an element named "${e}" on the storage, and it's value\n        was overwritten.\n        `)},Re.prototype.get=function(e,t){const r=Object.getOwnPropertySymbols(this)[0];if(arguments.length<2&&c("\n    storage.get() must have two arguments!\n    "),n(t)||c("\n    The second argument in storage.get() must be a function.\n    "),o.call(this[r],e)){return t(this[r][e])}d("\n    You are trying to get an element that is not actually registered in the storage.\n    ")},Re.prototype.has=function(e){const t=Object.getOwnPropertySymbols(this)[0];if(s(e))return o.call(this[t],e);c("\n        You must define the element to check its existence in the storage.\n        ")},Re.prototype.delete=function(e){const t=Object.getOwnPropertySymbols(this)[0];if(s(e)||c("You must define the key you want to delete from storage."),o.call(this[t],e)){this[Object.getOwnPropertySymbols(this)[1]].has(e)&&c(`\n            \n            The info named "${e}" is protect\n            and you can not delete it from the storage.\n\n            `),delete this[t][key]}else c("\n         You're trying to delete a key that is not in the storage.\n         ")},Re.prototype.protect=function(e){if(null==e&&c("\n        \n        You must define the info name to protect\n        in storage.protect(infoName)\n\n        "),this.has(e)){this[Object.getOwnPropertySymbols(this)[1]].add(e)}else c(`\n        \n        The info named ${e} is not on the storage yet,\n        so register it first and then protect it.\n        \n        `)};const Ae=Object.freeze(new Re);function Se(e){return 1==e.nodeType}function $e(){}$e.prototype.previous=((e,t)=>{if(Se(e),n(t)){const n=N.create(null),r=e.parentNode.children;for(child of r){if(e.isSameNode(child)){n.push(child),t([...n]),N.destroy(n);break}n.push(child)}}else;}),$e.prototype.next=((e,t)=>{if(Se(e)||c('\nThe first argument in "interface.next()" must be a valid HTML element.\n'),n(t)){let n=!1;const r=N.create(null),o=e.parentNode.children;for(let t of o)(e.isSameNode(t)||n)&&(r.push(t),n||(n=!0));t([...r]),N.destroy(r)}else c('\nThe second argument in "interface.next()" must be a function.\n')});const Ie=Object.freeze(new $e);function Pe(t,r,s,a){Object.entries(r).reduce((e,r)=>{const[o,s]=r;null==s||o.startsWith("on")?o.startsWith("on")&&n(s)&&(t[o]=function(e){s.call(a,e)}):m(t,o,s)},{}),Object.entries(a).reduce((e,r)=>{const[o]=r;Object.defineProperty(a,o,{set(e){null==e?o.startsWith("on")?t[o]=void 0:t.removeAttribute(o):o.startsWith("on")?(n(e)||c(`\n                        The value of "${e}" event, must be a function.\n                        `),t[o]=function(t){e.call(a,t)}):m(t,o,e)},get(){if(!o.startsWith("on"))return y(t,o);c(`\n               "${o}" seems to be an event listener, \n               and you can not get the value of an event.\n               `)}})},{});const l=Object.create(null);Object.defineProperty(l,[s],{value:new Proxy(r,{set(e,r,s,a){if(o.call(e,r)){if(null==s)return r.startsWith("on")?t[r]=void 0:t.removeAttribute(r),!1;if("value"!=r&&!r.startsWith("on"))return m(t,r,s),Reflect.set(e,r,s,a),!1;"value"==r?(t.value=s,Reflect.set(e,r,s,a)):r.startsWith("on")&&(n(s)||c(`\n                        Oh, the value of "${r}" event, must be a function.\n                        `),t[r]=function(t){s.call(e,t)})}},get(e,n,r){if(!n.startsWith("on"))return t[n];c(`"${n}" seems to be an event listener, and you can\n            not get the value of an event`)}})}),e(w.managers)||(w.managers=Object.create(null)),w.managers[s]=l[s]}function Le(t){const n=Object.create(null);if(e(t)){const{in:r,data:o,private:s}=t,a=h(r);if(e(o)){!function(e,t){const n=Object.getOwnPropertyNames(t),r=e.getElementsByTagName("*");for(let e of r)if(1==e.attributes.length){const r=e.attributes[0].name;for(let o of n)if(new RegExp(`{...${o}}`).test(r)){const n=Object.assign({},t[o]);e.removeAttribute(r),Pe(e,n,o,t[o]);break}}}(a,o);for(let e of Object.entries(w.managers)){const[t,r]=e;b(s)?n[t]=r:w[t]=r}}else c("\ndata in toATTR() must be an object.\n");return delete w.managers,b(s)?n:void 0}c('\n        The argument in "toATTR()" function must be an object.\n        ')}function ke(e){u("Unfortunetly reativeTemplate was depracated since version 1.2.0")}J.protectListener("URLCHANGED"),J.protectListener("handler");const He={call:void 0,load(e){this.call=e},fire(){this.call()}};function Be(e,t){const n=e.children,r=N.create(null),o=N.create(null);if(b(t)){if("file:"==window.location.protocol)c('\n        You can not use container rendering with external template in\n        a "file:" protocol. Use "http:" or "https:" protocols instead.\n        ');else{const t=e.getElementsByTagName("inter-container"),n=t.length;let r=0;He.load(()=>{if(r<n){!function(e){p(e,"path")||c('\n       \n       There is  an "inter-container" tag that does not have the "path" attribute.\n       \n       '),p(e,"tag")||c('\n   \n   There is an "inter-container" tag that does not have the "tag" attribute.\n\n   '),y(e,"path").endsWith(".html")||y(e,"path").endsWith(".hml")||c('\n    \n    The path attribute value in all "inter-container" tags must end either with the ".html"\n    or ".htm" extension.\n    \n    '),W.request({type:"get",path:e.getAttribute("path")}).response(t=>{const n=e.attributes;/<style>(:?[\s\S])*<\/style>|<script>(:?[\s\S])*<\/script>/g.test(t)&&c(`\n        \n        In external template must not contain a <style> or <script> tag,\n        and one of the mentioned tag was found at path => "${e.getAttribute("path")}".\n        \n        `);const r=g(e.getAttribute("tag"));r.innerHTML=t;for(let e of n)"path"!=e.name&&"tag"!=e.name&&m(r,e.name,e.value);e.parentNode.replaceChild(r,e),He.call()},()=>{u(`\n       Failed to load: ${e.getAttribute("path")}.\n       `)})}(t[0]),r++}else s()}),He.fire()}}else s();function s(){let t=-1;for(let e of n)if(t++,p(e,"_istrue")){p(e,"_default")&&c("\n            A container can not have two reactive attributes.\n            ");const n=y(e,"_istrue");e.istrue=!0;const a={ifTrue:e,cond:n.trim(),index:t},l=e.nextElementSibling;null!=(s=l)&&1==s.nodeType&&p(l,"_default")&&(p(l,"_istrue")&&c("\n                 A container can not have two reactives attributes.\n                 "),l.default=!0,a.default=l,l.removeAttribute("_default"),o.push(l)),e.removeAttribute("_istrue"),o.push(e),r.push(a)}var s;for(let t of o)e.removeChild(t);J.hasListener("CONTAINERS_HAVE_FINISHED_LOADING")&&(J.fire("CONTAINERS_HAVE_FINISHED_LOADING"),J.removeListener("CONTAINERS_HAVE_FINISHED_LOADING"))}return r}function Ye(r){let l=void 0;if(void 0!==new.target&&c('\n        "renderContainer" is not a constructor, do not call it\n        with the "new" keyword.\n        '),e(r)){const{in:e,data:u,react:f,private:p,load:g,loadState:m}=r;n(m)&&g&&m.call(u,"loading");const y=Be(h(e),b(g)),x=Object.assign({},u),v=Object.assign({},u),O=Object.getOwnPropertyNames(u);for(let e of O)Object.defineProperty(x,[e],{set(t){v[e]=t,i()},get:()=>v[e]});const E=N.create(null);let C=!1;function i(){for(let t of y){const{cond:r,ifTrue:l,default:i,index:c}=t,u=h(e),f=u.children;if(o.call(x,r)){const e=n(x[r])?x[r].apply(x,void 0):x[r];if(a(e)||d(`\n            The values of properties in data object, in renderContainer(), must be\n            only boolean(true/false), and in property "${r}" you defined\n            "${e}" as its value.\n                `),!j(e,!0)&&s(i)){if(null==f[c]){u.appendChild(l);continue}if(f[c].isSameNode(l));else{if(f[c].default){u.replaceChild(l,i);continue}u.insertBefore(l,f[c])}}else{if(!j(e,!1)&&s(i)){if(null==f[c]){u.appendChild(i);continue}if(f[c].isSameNode(i));else{if(f[c].istrue){u.replaceChild(i,l);continue}u.insertBefore(i,f[c])}}if(!j(e,!0)&&!s(i)){if(null==f[c]){u.appendChild(l);continue}f[c].isSameNode(l)||u.insertBefore(l,f[c])}}j(e,!1)||s(i)||null!==l.parentNode&&u.removeChild(l)}}}Object.defineProperty(x,"register",{set(e){if(t(e)||c(`\n            The value in ${f}.register must be an array.\n            `),C&&c("\n            You can only register the properties once.\n            "),0==e.length)c("\n            The array is empty.\n            ");else{for(let t of e)o.call(u,t)?(E.push(t),C=!0):d(`\n                    There is not a property called "${t}"\n                    in ${f}\n                    `);Object.defineProperty(this,"setRegistered",{enumerable:!1,configurable:!1,set(e){if(a(e))for(let t of E)w[f][t]=e;else c("\n                        The setRegistered property only accepts\n                        boolean value, true or false.\n                        ")}}),Object.seal(this)}}}),g&&J.listen("CONTAINERS_HAVE_FINISHED_LOADING",()=>{i(),n(m)&&g&&m.call(x,"ready")}),g||i(),s(f)?w[f]=x:p&&(l=x)}else c('\n        The argument in "renderContainer" must be an object.\n        ');return l}const _e=new Map;function De(e){const{elements:t}=e;let r=N.create(null);for(let e of t){const{tag:t,text:o,attrs:a={},events:l={},handlers:i={},styles:u={},children:h=[]}=e;if(null==t)continue;let d=-1;_e.set("index",d);const p=g(t);Object.entries(a).forEach(e=>{const[t,r]=e;s(t)&&(n(r)?m(p,t,r()):m(p,t,r))}),Object.entries(l).forEach(e=>{const[t,r]=e;t.startsWith("on")||c(`\n            \n            Every HTML event must start with "on". And\n\n            ${t} does not.\n\n\n            `),n(r)&&(p[t]=r,p.render=!0)}),Object.entries(i).forEach(e=>{const[t,r]=e;n(r)?(r.apply(p,void 0),r.render=!0):c(`\n       \n       All handlers properties values must be functions,\n       and the value of handler "${t}" is not.\n\n       `)}),Object.entries(u).forEach(e=>{const[t,r]=e;s(r)&&(n(r)?p.style[t]=r():p.style[t]=r)}),s(o)&&0==h.length&&(n(o),p.appendChild(f(o))),h.length>0&&Me(p,h,d),r.push(p)}return r}function Me(e,t,r){for(let r of t){const{tag:t,text:o,attrs:a={},events:l={},handlers:i={},styles:u={},children:h=[]}=r;if(null==t)continue;const d=g(t);Object.entries(a).forEach(e=>{const[t,r]=e;s(r)&&(n(r)?m(d,t,r()):m(d,t,r))}),Object.entries(l).forEach(e=>{const[t,n]=e;t.startsWith("on")||c(`\n                    \n                    Every HTML event must start with on. And\n        \n                    ${t} does not.\n        \n        \n                    `),s(n)&&(d[t]=n,d.render=!0)}),Object.entries(i).forEach(e=>{const[t,r]=e;n(r)?(r.apply(d,void 0),r.render=!0):c(`\n               \n               All handlers properties values must be functions,\n               and the value of handler "${t}" is not.\n        \n               `)}),Object.entries(u).forEach(e=>{const[t,r]=e;s(r)&&(n(r)?d.style[t]=r():d.style[t]=r)}),s(o)&&0==h.length&&(n(o)?d.appendChild(f(o())):d.appendChild(f(o))),e.appendChild(d),h.length>0&&Me(d,h)}}w.renderContainer=Ye,w.interface=Ie,w.storage=Ae,w.input=Te,w.form=be,w.toHTML=ae,w.validate=I,w.Inter=L,w.simulate=D,w.ROUTER=ye,w.supportInter=$,w.url=V,w.data=H,w.backend=W,w.event=J,w.whileLoading=B,w.app=S,w.template=De,w.toATTR=Le,w.reativeTemplate=ke,"undefined"!=typeof module&&"object"==typeof module.exports&&(exports.renderContainer=Ye,exports.whileLoading=B,exports.reativeTemplate=ke,exports.toATTR=Le,exports.validate=I,exports.Inter=L,exports.backend=W,exports.simulate=D,exports.supportInter=$,exports.data=H,exports.url=V,exports.input=Te,exports.getValue=getValue,exports.toHTML=ae,exports.app=S,exports.event=J,exports.template=De,exports.app=S,exports.getValue=getValue,exports.ROUTER=ye,exports.form=be,exports.interface=Ie,exports.input=Te,exports.storage=Ae)}();
